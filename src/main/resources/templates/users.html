<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="layout :: head"></head>

<body>
  <div th:insert="layout :: header"></div>
  <div th:insert="layout :: hamburger"></div>
  <div th:insert="layout :: sidebar"></div>

  <div class="container">
    <table class="table table-bordered table-striped mt-5">
      <thead class="thead-dark">
      <tr>
        <th>ユーザID</th>
        <th>ユーザ名</th>
        <th>メールアドレス</th>
        <th>ロール</th>
        <th>操作</th>
      </tr>
      </thead>
      <tbody>
      <tr th:each="user : ${users}">
        <td th:text="${user.id}"></td>
        <td th:text="${user.username}"></td>
        <td th:text="${user.email}"></td>
        <td th:text="${user.role}"></td>
        <td>
          <a class="btn btn-primary btn-sm" th:href="@{/user/{id}(id=${user.id})}">詳細</a>
          <a class="btn btn-warning btn-sm" th:href="@{/user/edit/{id}(id=${user.id})}">編集</a>
          <button class="btn btn-danger btn-sm" th:data-user-id="${user.id}" onclick="deleteUser(this)">削除</button>
        </td>
      </tr>
      </tbody>
    </table>
    <div class="my-4">
      <a class="btn btn-primary" th:href="@{/register}">追加</a>
      <a class="btn btn-secondary" th:href="@{/dashboard}">戻る</a>
    </div>

  </div>

  <script th:replace="layout :: script"></script>
  <script src="/javascript/user.js"></script>
</body>
</html>
